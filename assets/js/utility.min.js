const $=e=>document.getElementById(e),q=e=>document.querySelector(e),showHideScrim=()=>{const e=q(".loading-scrim");e.classList.toggle("hidden"),q(".loading-scrim > div.mdc-circular-progress").MDCCircularProgress.determinate=e.classList.contains("hidden")},showMsg=e=>{const o=$("msgSnackbar").MDCSnackbar;o.labelText=e,o.open()};document.body.addEventListener("mousedown",function(){document.body.classList.add("using-mouse")}),document.body.addEventListener("keydown",function(e){9===e.keyCode&&document.body.classList.remove("using-mouse")});let cUser=null;firebase.auth().onAuthStateChanged(e=>{if(e){if(cUser=e,"undefined"!=typeof isLoginPg){const e=new URLSearchParams(window.location.search).get("redirect");window.location=e?atob(e):"index.html"}else showMsg(`Signed in as ${e.displayName}`);window.history.replaceState({},document.title,window.location.pathname+window.location.search.replace(/redirect=.*&/m,""))}else cUser=null,"undefined"==typeof isLoginPg?(window.location="login.html?redirect="+btoa(window.location.href),showMsg("You are signed out")):initFUI()});const getTheme=()=>"dark"===localStorage.pageTheme,refreshTheme=()=>{getTheme()?document.body.classList.remove("light"):document.body.classList.add("light")},setTheme=e=>{localStorage.pageTheme=e?"dark":"light",refreshTheme()};refreshTheme(),window.onload=(()=>{console.log("%c"+atob("CiBfICAgXyBfICAgXyBfX19fXyBfICAgXyAgIF8gICBfICBfX19fXyAKfCBcIHwgfCB8IHwgLyAgX19ffCB8IHwgfCB8IFwgfCB8fCAgX19ffAp8ICBcfCB8IHwgfCBcIGAtLS58IHxffCB8IHwgIFx8IHx8IHxfXyAgCnwgLiBgIHwgfCB8IHxgLS0uIFwgIF8gIHwgfCAuIGAgfHwgIF9ffCAKfCB8XCAgfCB8X3wgL1xfXy8gLyB8IHwgfCB8IHxcICB8fCB8X19fIApcX3wgXF8vXF9fXy9cX19fXy9cX3wgfF8vIFxffCBcXy9cX19fXy8g"),"color:#ff0000;font-family:Courier;font-weight:900;"),console.log("%cProgrammed by Vincent Kwok and Wang Zerui (NUSH M21204)",'color:#00a778;font-size:2em;font-family:"Trebuchet MS"'),console.log("%c                           ",'height:320px;line-height:160px;background:url("https://cdn.discordapp.com/attachments/822758666246815755/831543415500963911/sketch-1614682583636.png");background-size:contain;background-position:center;'),console.log("%cPasting anything here could lead to loss of private data and/or other serious issues. If you're unsure, close this window by clicking on the [x] button at the top right corner.","color:#f44336;font-size: 1.5em")});