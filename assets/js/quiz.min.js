class timer{constructor(t,e){this.intID=null,this.cb=e,this.progress=t.MDCLinearProgress}initTimer(t){this.totalTime=t,this.current=t,null!==this.intID&&(clearInterval(this.intID),this.intID=null)}startTimer(){return!(this.current<0)&&(this.progress.progress=1,this.cb((this.totalTime/1e3).toFixed(0)),setTimeout(()=>{this.intID=setInterval(()=>{this.progress.progress=this.current/this.totalTime,this.current%1e3==0&&this.cb(this.current/1e3),this.current-=100,this.current<0&&(clearInterval(this.intID),this.intID=null)},100)},250),!0)}pauseTimer(){clearInterval(this.intID),this.intID=null}}class pointsCalc{constructor(t){this.maxTime=t}mainStart(){this.history={stats:{quizStart:new Date,quizEnd:null,quizTime:null,tPoints:0}}}start(t){this.history[t]={startTime:new Date,endTime:null,tTime:null,res:0,pts:0}}end(t,e){return this.history[t].endTime=new Date,this.history[t].tTime=this.history[t].endTime-this.history[t].startTime,this.history[t].res=e,this.history[t].pts=.1*Math.pow(10-this.history[t].tTime*(1e4/this.maxTime)/1e3,2.3)*10,this.history}mainEnd(){return this.history.stats.quizEnd=new Date,this.history.stats.quizTime=this.history.quizEnd-this.history.quizStart,this.history}}(()=>{const t=$("result-dialog").MDCDialog,e=$("end-dialog").MDCDialog,i=new timer($("timer-progress"),t=>{$("timer-number").textContent=t,0===t&&h(10)}),n=new pointsCalc(1e4),o=[{qn:"Funny",op1:"Yes",op2:"No",op3:"Very",op4:"Extremely",cOp:4},{qn:"Are you retarded",op1:"Yes",op2:"No",op3:"Very",op4:"Extremely",cOp:4},{qn:"You are a piece of funny stone",op1:"Waaang",op2:"Andre",op3:"Rohaida",op4:"Zerui",cOp:1}],s=[0,1],r=()=>{i.initTimer(1e4),i.startTimer(),n.start(s[0]),q("button.quiz-opt__1 > span.mdc-typography--body1").textContent=o[s[0]].op1,q("button.quiz-opt__2 > span.mdc-typography--body1").textContent=o[s[0]].op2,q("button.quiz-opt__3 > span.mdc-typography--body1").textContent=o[s[0]].op3,q("button.quiz-opt__4 > span.mdc-typography--body1").textContent=o[s[0]].op4,$("question-text").textContent=o[s[0]].qn,$("num-qns").textContent=s.length},a=()=>{if(s.splice(0,1),s.length<=0)return $("end-dialog-content").textContent="You have reached the end of the quiz, and scored 10000 points! Congrats!",$("endAnim").play(),void e.open();r()},h=e=>{if(i.pauseTimer(),0===s.length)return;const r=e>4?2:e===o[s[0]].cOp?1:0;console.log(n.end(s[0],r)),showMsg(2===r?"Out of time":r?"Correct":"Wrong"),((e,i=!1)=>{$("resultAnim").load(e?"assets/raw/check.json":"assets/raw/cross.json"),q("#res-dialog-title > h2").textContent=i?"You ran out of time!":e?"Correct!":"Wrong!",$("res-dialog-content").textContent=i?"Try to be faster next time! You can do it!":e?"Congratulations! Keep up the good work!":"Whoops! Try harder next time. You can do it!",t.open()})(1===r,2===r),$("main-anim").pause()};t.listen("MDCDialog:closed",()=>{a(),s.length>0&&$("main-anim").play()}),q("button.quiz-opt__1").onclick=(()=>h(1)),q("button.quiz-opt__2").onclick=(()=>h(2)),q("button.quiz-opt__3").onclick=(()=>h(3)),q("button.quiz-opt__4").onclick=(()=>h(4)),e.scrimClickAction="",e.escapeKeyAction="",n.mainStart(),r()})();